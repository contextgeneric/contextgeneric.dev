+++

title = "CGP Updates: v0.3.0 Release and New Chapters"

+++

# Summary

We have just released [v0.3.0](https://github.com/contextgeneric/cgp/releases/tag/v0.3.0) of the [`cgp`](https://docs.rs/cgp/0.3.0/cgp/) crate, as well as few [new](https://patterns.contextgeneric.dev/error-handling.html) [chapters](https://patterns.contextgeneric.dev/field-accessors.html) of the [CGP Patterns](https://patterns.contextgeneric.dev/) book!
This post will highly some of the key features and changes in this release.

# New Book Chapters

A few new chapters have been published for [CGP Patterns](https://patterns.contextgeneric.dev/). A short summary is included here on the contents that has been added.

## Associated Types

During the [initial announcement](/blog/early-preview-announcement/) for CGP, some readers commented that CGP is just a dependency injection framework in Rust. While that is partially true with the initial introduction, a key feature that was yet covered was the ability to use _abstract types_ together with dependency injection of _types_ in CGP.

In this [new chapter](https://patterns.contextgeneric.dev/associated-types.html) of the book, we walk through a motivating example of using abstract `Time` and `AuthToken` types to implement a context-generic auth token validator, that is not only generic over the `Context`, but also the abstract `Time` and `AuthToken` types. We also go through how to use the `cgp_type!` macro to simplify the declaration of abstract type traits, and how to use `UseType` inside component wiring to instantiate an abstract type.

## Error Handling

CGP offers us a different way of thinking and approaching error handling, which is very different from how error handling is typically done in Rust today. In this [new chapter](https://patterns.contextgeneric.dev/error-handling.html) of the book, we start with using an abstract `Error` type from `HasErrorType` to return erros inside the method signatures. We then go through how to use `CanRaiseError` and `CanWrapError` to produce abstract errors inside context-generic provider implementations. We also discussed how to define context-generic error raisers, and make use of the `UseDelegate` pattern to statically dispatch error handling to different providers.

## Field Accessors

CGP offers a way to make use of dependency injection using impl-side dependencies. However, since dependencies are included in the form of traits and constraints, we need to define _accessor traits_ to retrieve field values from a generic context.

In this [new chapter](https://patterns.contextgeneric.dev/field-accessors.html), we go through various ways of defining, using, and implementing accessor traits in CGP. We will learn about how the `#[derive(HasField)]` macro works, and the internal details of `HasField` and `symbol!`. We then learn about how to use `#[cgp_auto_getter]` and `#[cgp_getter]` macros to automatically generate accessor provider implementations that can work together with `HasField`.

# `cgp` v0.3.0 Release

## `cgp_type!` Macro

## `#[cgp_auto_getter]` Macro

## `#[cgp_getter]` Macro

## `cgp-error-anyhow` Crate

## `cgp-runtime` Crate

# Future Work